<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Pokédex Gen 1</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body {
    font-family: Arial;
    margin: 0;
    padding: 0;
}

.pokedex {
    width: 650px;
    margin: 30px auto;
    padding: 20px;
    border-radius: 15px;
    background: white;
    text-align: center;
}

.contenido {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 10px;
}

img {
    width: 120px;
}

.stats {
    text-align: left;
}

.tipo-planta { background: #7AC74C; }
.tipo-fuego { background: #EE8130; }
.tipo-agua { background: #6390F0; }
.tipo-electrico { background: #F7D02C; }
.tipo-veneno { background: #A33EA1; }
.tipo-volador { background: #A98FF3; }
.tipo-normal { background: #A8A77A; }
.tipo-bicho { background: #A6B91A; }
.tipo-tierra { background: #E2BF65; }
.tipo-hada { background: #D685AD; }
.tipo-lucha { background: #C22E28; }
.tipo-psiquico { background: #F95587; }
.tipo-roca { background: #B6A136; }
.tipo-fantasma { background: #735797; }
.tipo-hielo { background: #96D9D6; }
.tipo-dragon { background: #6F35FC; }

canvas {
    width: 180px !important;
    height: 180px !important;
}
</style>
</head>

<body id="fondo">

<div class="pokedex">
    <h2 id="nombre"></h2>

    <div class="contenido">
        <img id="imagen">

        <canvas id="grafica" width="180" height="180"></canvas>

        <div class="stats">
            <p>HP: <span id="hp"></span></p>
            <p>Ataque: <span id="atk"></span></p>
            <p>Defensa: <span id="def"></span></p>
            <p>Atq. Esp.: <span id="spatk"></span></p>
            <p>Def. Esp.: <span id="spdef"></span></p>
            <p>Velocidad: <span id="speed"></span></p>
        </div>
    </div>

    <br>
    <button onclick="anterior()">⬅</button>
    <input id="buscar" placeholder="Nombre o número">
    <button onclick="buscarPokemon()">Buscar</button>
    <button onclick="siguiente()">➡</button>
</div>

<script>
let id = 1;
let chart;

const coloresTipo = {
    grass: "tipo-planta",
    fire: "tipo-fuego",
    water: "tipo-agua",
    electric: "tipo-electrico",
    poison: "tipo-veneno",
    flying: "tipo-volador",
    normal: "tipo-normal",
    bug: "tipo-bicho",
    ground: "tipo-tierra",
    fairy: "tipo-hada",
    fighting: "tipo-lucha",
    psychic: "tipo-psiquico",
    rock: "tipo-roca",
    ghost: "tipo-fantasma",
    ice: "tipo-hielo",
    dragon: "tipo-dragon"
};

async function cargarPokemon(num) {
    const res = await fetch("https://pokeapi.co/api/v2/pokemon/" + num);
    const data = await res.json();

    nombre.textContent = "#" + data.id + " " + data.name.toUpperCase();
    imagen.src = data.sprites.front_default;

    const tipo = data.types[0].type.name;
    document.body.className = coloresTipo[tipo] || "";

    const stats = data.stats.map(s => s.base_stat);

    hp.textContent = stats[0];
    atk.textContent = stats[1];
    def.textContent = stats[2];
    spatk.textContent = stats[3];
    spdef.textContent = stats[4];
    speed.textContent = stats[5];

    if (chart) chart.destroy();

    chart = new Chart(document.getElementById("grafica"), {
        type: "radar",
        data: {
            labels: ["HP","Atk","Def","SpA","SpD","Vel"],
            datasets: [{
                data: stats,
                fill: true
            }]
        },
        options: {
            scales: {
                r: {
                    beginAtZero: true,
                    max: 200,
                    ticks: { display: false }
                }
            }
        }
    });
}

function siguiente() {
    if (id < 151) cargarPokemon(++id);
}

function anterior() {
    if (id > 1) cargarPokemon(--id);
}

function buscarPokemon() {
    cargarPokemon(buscar.value.toLowerCase());
}

cargarPokemon(id);
</script>

</body>
</html>

